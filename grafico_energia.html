<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Energia</title>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f7f9;
        }
        .chart-container {
            position: relative;
            width: 90vw;
            height: 80vh;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>

</head>
<body>

    <h1>Relatório de Energia vs. Tempo</h1>

    <div class="chart-container">
        <canvas id="myEnergyChart"></canvas>
    </div>

    <script>
        // 1. Seus dados (colados diretamente aqui)
        const dados = {
            "timestamps": ["2025-08-26T11:50:43.720Z","2025-08-26T11:52:34.002Z","2025-08-26T11:53:33.938Z","2025-08-26T11:55:33.963Z","2025-08-26T11:56:34.071Z","2025-08-26T11:57:34.092Z","2025-08-26T12:01:34.118Z","2025-08-26T12:02:38.085Z","2025-08-26T12:04:34.122Z","2025-08-26T12:06:34.511Z","2025-08-26T12:09:34.169Z","2025-08-26T12:10:34.167Z","2025-08-26T12:11:34.021Z","2025-08-26T12:13:34.075Z","2025-08-26T12:15:34.036Z","2025-08-26T12:16:35.093Z","2025-08-26T12:18:34.263Z","2025-08-26T12:19:34.123Z","2025-08-26T12:21:34.722Z","2025-08-26T12:22:34.052Z","2025-08-26T12:25:34.372Z","2025-08-26T12:26:34.173Z","2025-08-26T12:27:34.149Z","2025-08-26T12:29:34.152Z","2025-08-26T12:33:34.164Z","2025-08-26T12:34:34.556Z","2025-08-26T12:36:34.211Z","2025-08-26T12:37:34.229Z","2025-08-26T12:38:34.266Z","2025-08-26T12:43:34.273Z","2025-08-26T12:45:34.648Z","2025-08-26T12:49:34.339Z","2025-08-26T12:53:34.216Z","2025-08-26T12:55:34.419Z","2025-08-26T12:56:34.579Z","2025-08-26T13:00:34.939Z","2025-08-26T13:04:34.297Z","2025-08-26T13:05:34.268Z","2025-08-26T13:08:34.396Z","2025-08-26T13:09:34.301Z","2025-08-26T13:11:34.318Z","2025-08-26T13:12:34.576Z","2025-08-26T13:14:34.363Z","2025-08-26T13:15:34.295Z","2025-08-26T13:16:34.377Z","2025-08-26T13:18:34.297Z","2025-08-26T13:23:34.301Z","2025-08-26T13:24:34.321Z","2025-08-26T13:27:34.373Z","2025-08-26T13:28:34.890Z","2025-08-26T13:29:34.415Z","2025-08-26T13:31:34.508Z","2025-08-26T13:33:34.494Z","2025-08-26T13:35:34.407Z","2025-08-26T13:36:34.292Z","2025-08-26T13:39:34.404Z","2025-08-26T13:42:34.471Z","2025-08-26T13:43:34.414Z","2025-08-26T13:44:34.446Z","2025-08-26T13:45:34.309Z","2025-08-26T13:47:35.495Z","2025-08-26T13:48:34.260Z","2025-08-26T13:51:34.469Z","2025-08-26T13:52:39.301Z","2025-08-26T13:55:34.693Z","2025-08-26T13:57:34.700Z","2025-08-26T13:58:34.369Z","2025-08-26T13:59:34.498Z","2025-08-26T14:00:34.509Z","2025-08-26T14:01:34.306Z","2025-08-26T14:08:34.312Z","2025-08-26T14:09:34.319Z","2025-08-26T14:11:34.992Z","2025-08-26T14:12:34.291Z","2025-08-26T14:14:34.690Z","2025-08-26T14:15:34.367Z","2025-08-26T14:18:34.406Z","2025-08-26T14:19:34.389Z","2025-08-26T14:20:34.566Z","2025-08-26T14:21:34.397Z","2025-08-26T14:24:35.175Z","2025-08-26T14:25:34.365Z","2025-08-26T14:28:34.438Z","2025-08-26T14:29:34.457Z","2025-08-26T14:30:34.411Z","2025-08-26T14:33:34.510Z","2025-08-26T14:36:34.653Z","2025-08-26T14:37:34.512Z","2025-08-26T14:38:34.567Z","2025-08-26T14:39:34.478Z","2025-08-26T14:42:34.397Z","2025-08-26T14:45:34.390Z","2025-08-26T14:46:34.500Z","2025-08-26T14:47:34.463Z","2025-08-26T14:48:34.339Z","2025-08-26T14:49:34.704Z","2025-08-26T14:51:34.496Z","2025-08-26T14:57:34.475Z","2025-08-26T14:58:34.392Z","2025-08-26T15:00:34.429Z","2025-08-26T15:06:35.496Z","2025-08-26T15:07:34.452Z","2025-08-26T15:09:34.452Z","2025-08-26T15:12:34.560Z","2025-08-26T15:13:35.137Z","2025-08-26T15:16:34.596Z","2025-08-26T15:17:34.591Z","2025-08-26T15:19:34.699Z","2025-08-26T15:20:34.669Z","2025-08-26T15:24:35.140Z","2025-08-26T15:27:34.746Z","2025-08-26T15:30:35.073Z","2025-08-26T15:33:34.528Z","2025-08-26T15:34:35.649Z","2025-08-26T15:36:34.583Z","2025-08-26T15:41:34.641Z","2025-08-26T15:42:34.559Z","2025-08-26T15:46:34.702Z","2025-08-26T15:48:35.152Z","2025-08-26T15:51:34.633Z","2025-08-26T15:52:34.563Z","2025-08-26T15:53:34.742Z","2025-08-26T15:54:34.619Z","2025-08-26T15:59:34.919Z","2025-08-26T16:07:34.653Z","2025-08-26T16:09:34.699Z","2025-08-26T16:11:30.558Z","2025-08-26T16:13:35.000Z","2025-08-26T16:20:35.350Z","2025-08-26T16:21:35.480Z","2025-08-26T16:22:34.677Z","2025-08-26T16:23:34.888Z","2025-08-26T16:24:34.689Z","2025-08-26T16:25:34.969Z","2025-08-26T16:27:34.654Z","2025-08-26T16:28:34.666Z","2025-08-26T16:29:34.700Z","2025-08-26T16:30:34.588Z","2025-08-26T16:32:34.659Z","2025-08-26T16:33:35.086Z","2025-08-26T16:34:35.634Z","2025-08-26T16:36:34.704Z","2025-08-26T16:37:34.690Z","2025-08-26T16:40:34.944Z","2025-08-26T16:43:34.724Z","2025-08-26T16:44:34.701Z","2025-08-26T16:46:34.883Z","2025-08-26T16:50:34.751Z","2025-08-26T16:51:34.847Z","2025-08-26T16:52:34.777Z","2025-08-26T16:54:35.573Z","2025-08-26T16:59:34.748Z","2025-08-26T17:00:34.916Z","2025-08-26T17:03:34.897Z","2025-08-26T17:04:34.769Z","2025-08-26T17:08:34.716Z","2025-08-26T17:10:34.802Z","2025-08-26T17:13:34.714Z","2025-08-26T17:19:35.250Z","2025-08-26T17:23:34.698Z","2025-08-26T17:24:35.116Z","2025-08-26T17:25:34.773Z","2025-08-26T17:28:35.154Z","2025-08-26T17:32:34.945Z","2025-08-26T17:33:35.040Z","2025-08-26T17:34:34.792Z","2025-08-26T17:36:34.772Z","2025-08-26T17:37:34.810Z","2025-08-26T17:40:34.854Z","2025-08-26T17:43:35.015Z","2025-08-26T17:45:19.208Z","2025-08-26T17:46:35.063Z","2025-08-26T17:51:35.105Z","2025-08-26T17:53:34.997Z","2025-08-26T17:58:35.307Z","2025-08-26T18:00:34.979Z","2025-08-26T18:01:35.004Z","2025-08-26T18:02:35.108Z","2025-08-26T18:03:34.911Z","2025-08-26T18:08:35.035Z","2025-08-26T18:17:34.995Z","2025-08-26T18:21:35.080Z","2025-08-26T18:22:35.109Z","2025-08-26T18:23:35.093Z","2025-08-26T18:26:35.086Z","2025-08-26T18:29:35.155Z","2025-08-26T18:30:35.209Z","2025-08-26T18:32:35.468Z","2025-08-26T18:33:35.285Z","2025-08-26T18:37:35.349Z","2025-08-26T18:42:35.109Z","2025-08-26T18:44:35.490Z","2025-08-26T18:45:35.120Z","2025-08-26T18:49:35.302Z","2025-08-26T18:54:36.489Z","2025-08-26T18:55:35.099Z","2025-08-26T18:56:35.259Z","2025-08-26T18:57:35.298Z","2025-08-26T18:58:35.221Z","2025-08-26T19:07:35.171Z","2025-08-26T19:08:35.312Z","2025-08-26T19:10:35.408Z","2025-08-26T19:11:35.194Z","2025-08-26T19:12:35.140Z","2025-08-26T19:13:35.293Z","2025-08-26T19:30:27.873Z","2025-08-26T19:50:26.414Z","2025-08-26T20:10:31.274Z","2025-08-26T20:20:26.403Z","2025-08-26T20:35:26.427Z","2025-08-26T20:40:26.858Z","2025-08-26T20:50:26.858Z","2025-08-26T21:00:26.539Z","2025-08-26T21:10:26.821Z","2025-08-26T21:30:26.783Z","2025-08-26T21:35:26.496Z","2025-08-26T21:40:27.183Z","2025-08-26T21:45:26.464Z","2025-08-26T21:55:26.720Z","2025-08-26T22:05:26.592Z","2025-08-26T22:25:28.125Z","2025-08-26T22:30:26.587Z","2025-08-26T22:35:26.863Z","2025-08-26T22:40:29.935Z"],
            "valores_battery_to_consumers": [0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00780296,0.00843906,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117922,0.00117874,0.00117874,0.00117874,0.00117874,0.00117874,0.0011797,0.0011797,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.0000543594,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.0168791,0.0168791,0.0168791,0.0168791,0.0168791,0.0168791,0.0168791,0.0163908,0.00480747,0.00117874,0.00117874,0.00117874,0.00117874,0.00117874,0.00117874,0.00432014,0.00432014,0.00432014,0.00432014,0.00432014,0.0163908,0.0163908,0.0163908,0.0163908,0.0163908,0.0163908,0.0163908,0.014575,0.014575,0.014575,0.014575,0.014575,0.014575,0.00117779,0.00117779,0.00117779,0.00117779,0.00117779,0.00117779,0.00117779,0.00117779,0.00117779,0.00117779,0.00613499,0.00613499,0.00613499,0.00613499,0.00613499,0.00613499,0.00613499,0.00613499,0.00613499,0.00613499,0.00613499,0.00117874,0.00117874,0.00117874,0.00117874,0.00117874,0.00117874,0.00117874,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00662518,0.00117874,0.00731468,0.00368595,0.00368595,0.00368595,0.00368595,0.00368595,0.00368595,0.00368595,0.00368595,0.0163898,0.0163898,0.0157518,0.0157518,0.0157518,0.0157518,0.0157518,0.0157518,0.0157518,0.0437222,0.0831242,0.145636,0.182045,0.182045,0.0182037,0.0182037,0.0546131,0.0121746,0.0121746,0.0121746,0.0121746,0.0121746,0.0121746,0.0121746,0.0121746,0.0121746,0.0121746,0.0121746,0.0121746,0.0121746,0.0109444,0.0109444,0.0109444,0.0109444,0.0109444,0.0109444,0.0109444,0.0109444,0.0103073,0.0103073,0.00667667,0.00667667,0.0826349,0.0364084,0.0182047,0.0182047,0.0182056,0.0182056,0.0546131,0.0364094,0.0364094,0.0546131,0.0182056,0.0364094,0.0546141,0.0182047,0.0182047,0.0546131,0.0728168,0.0182056,0.0364094],
            "valores_battery_to_grid": [0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00299263,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.00844002,0.0242424,0.00795174,0.00795174,0.0145741,0.0309639,0.0382786,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.018259,0.0261555,0.0630512,0.0364094,0.0364094,0.0728188,0.0546131,0.12743,0.0910225,0.12743,0.0364094,0.0728188,0.127432,0.0728168,0.0364075,0.109226,0.109226,0.109226,0.109226],
            "valores_soma_total": [0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01079559,0.01143169,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.0041718499999999995,0.00417137,0.00417137,0.00417137,0.00417137,0.00417137,0.00417233,0.00417233,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.0030469894,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00598526,0.00598526,0.00598526,0.00598526,0.00598526,0.00598526,0.00598526,0.00598526,0.00598526,0.01987173,0.01987173,0.01987173,0.01987173,0.01987173,0.01987173,0.01987173,0.01938343,0.007800100000000001,0.00417137,0.00417137,0.00417137,0.00417137,0.00417137,0.00417137,0.00731277,0.00731277,0.00731277,0.00731277,0.00731277,0.01938343,0.01938343,0.01938343,0.01938343,0.01938343,0.01938343,0.01938343,0.023015019999999997,0.023015019999999997,0.023015019999999997,0.023015019999999997,0.023015019999999997,0.023015019999999997,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.00961781,0.01457501,0.01457501,0.01457501,0.01457501,0.01457501,0.01457501,0.01457501,0.01457501,0.01457501,0.01457501,0.01457501,0.009618759999999999,0.009618759999999999,0.009618759999999999,0.009618759999999999,0.009618759999999999,0.009618759999999999,0.009618759999999999,0.015065199999999999,0.015065199999999999,0.015065199999999999,0.015065199999999999,0.015065199999999999,0.015065199999999999,0.015065199999999999,0.009618759999999999,0.0157547,0.01212597,0.01212597,0.01212597,0.01212597,0.01212597,0.01212597,0.01212597,0.01212597,0.02482982,0.02482982,0.02419182,0.02419182,0.02419182,0.02419182,0.02419182,0.02419182,0.02419182,0.05216222,0.09156422,0.16987839999999998,0.18999674000000003,0.18999674000000003,0.032777799999999996,0.0491676,0.0928917,0.0304336,0.0304336,0.0304336,0.0304336,0.0304336,0.0304336,0.0304336,0.0304336,0.0304336,0.0304336,0.0304336,0.0304336,0.0304336,0.0292034,0.0292034,0.0292034,0.0292034,0.0292034,0.0292034,0.0292034,0.0292034,0.028566300000000003,0.028566300000000003,0.02493567,0.02493567,0.1008939,0.0625639,0.0812559,0.0546141,0.054615,0.0910244,0.1092262,0.1638394,0.12743190000000001,0.18204309999999999,0.054615,0.1092282,0.1820461,0.0910215,0.0546122,0.16383910000000002,0.1820428,0.1274316,0.1456354]
        };

        // 2. Pegar o elemento 'canvas' do HTML para desenhar o gráfico
        const ctx = document.getElementById('myEnergyChart').getContext('2d');

        // 3. Criar e configurar o gráfico
        new Chart(ctx, {
            type: 'line', // Tipo de gráfico
            data: {
                labels: dados.timestamps, // Eixo X (os timestamps)
                datasets: [
                    {
                        label: 'Bateria para Cargas (kWh)',
                        data: dados.valores_battery_to_consumers,
                        borderColor: 'rgba(54, 162, 235, 1)',
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.5 // Deixa a linha um pouco curva
                    },
                    {
                        label: 'Injeção na Rede (kWh)',
                        data: dados.valores_battery_to_grid,
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.5
                    },
                    {
                        label: 'Soma Total (kWh)',
                        data: dados.valores_soma_total,
                        borderColor: 'rgba(255, 99, 132, 1)',
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.5
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        // Configura o eixo X para entender que são datas
                        type: 'time',
                        time: {
                            tooltipFormat: 'dd/MM/yyyy HH:mm:ss',
                            displayFormats: {
                                hour: 'HH:mm'
                            }
                        },
                        title: {
                            display: true,
                            text: 'Data e Hora'
                        }
                    },
                    y: {
                        // Configura o eixo Y
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Energia (kWh)'
                        }
                    }
                },
                plugins: {
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                }
            }
        });
    </script>

</body>
</html>